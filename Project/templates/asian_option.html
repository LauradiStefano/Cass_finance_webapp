{% include 'header.html' %}

<div class="container">
    <div class="row">
        <div class="col p-3 m-4">
            <h1 class="title text-center text-light">Asian Option</h1>
            <h2 class="lead text-center text-light animated fadeInDown">
                General Optimized Lower Bounds for Asian Options
            </h2>
        </div>
    </div>
</div>

<div class="container">
    <div class="row d-flex justify-content-center">
        <form class="" method="post" action="">

            <div class="row">
                <div class="col-md-4 col-12">
                    <fieldset class="shadow-sm p-3 bg-white rounded animated fadeInLeft ">

                        <div class="row border-bottom mb-2 pb-1">
                            <legend>Model Parameters</legend>
                        </div>

                        <div class="row">
                            <div class="col mb-1">
                                {{form.model_choice.label}}
                                {{form.model_choice}}
                            </div>
                        </div>
                        <div class="row">
                            <div id="gaussian" class="col" {% if form.model_choice.data !='0' and form.model_choice.data
                                 !=None %} style="display:none" {%endif%}>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.sigma_gaussian.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.sigma_gaussian}}
                                        {% if form.sigma_gaussian.errors %}
                                        {% for error in form.sigma_gaussian.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                            </div>

                            <div id="vg" class="col" {% if form.model_choice.data !='1' %} style="display:none"
                                 {%endif%}>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.kappa_vg.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.kappa_vg}}
                                        {% if form.kappa_vg.errors %}
                                        {% for error in form.kappa_vg.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.theta_vg.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.theta_vg}}
                                        {% if form.theta_vg.errors %}
                                        {% for error in form.theta_vg.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.sigma_vg.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.sigma_vg}}
                                        {% if form.sigma_vg.errors %}
                                        {% for error in form.sigma_vg.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                            </div>

                            <div id="heston" class="col" {% if form.model_choice.data !='2' %} style="display:none"
                                 {%endif%}>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.alpha_heston.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.alpha_heston}}
                                        {% if form.alpha_heston.errors %}
                                        {% for error in form.alpha_heston.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.beta_heston.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.beta_heston}}
                                        {% if form.beta_heston.errors %}
                                        {% for error in form.beta_heston.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.gamma_heston.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.gamma_heston}}
                                        {% if form.gamma_heston.errors %}
                                        {% for error in form.gamma_heston.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.rho_heston.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.rho_heston}}
                                        {% if form.rho_heston.errors %}
                                        {% for error in form.rho_heston.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.volatility_t0.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.volatility_t0}}
                                        {% if form.volatility_t0.errors %}
                                        {% for error in form.volatility_t0.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                            </div>

                            <div id="nig" class="col" {% if form.model_choice.data !='3' %} style="display:none"
                                 {%endif%}>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.a_nig.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.a_nig}}
                                        {% if form.a_nig.errors %}
                                        {% for error in form.a_nig.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.b_nig.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.b_nig}}
                                        {% if form.b_nig.errors %}
                                        {% for error in form.b_nig.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.delta_nig.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.delta_nig}}
                                        {% if form.delta_nig.errors %}
                                        {% for error in form.delta_nig.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                            </div>

                            <div id="cgmy" class="col" {% if form.model_choice.data !='4' %} style="display:none"
                                 {%endif%}>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.c.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.c}}
                                        {% if form.c.errors %}
                                        {% for error in form.c.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.g.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.g}}
                                        {% if form.g.errors %}
                                        {% for error in form.g.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.m.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.m}}
                                        {% if form.m.errors %}
                                        {% for error in form.m.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.y.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.y}}
                                        {% if form.y.errors %}
                                        {% for error in form.y.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                            </div>

                            <div id="meixner" class="col" {% if form.model_choice.data !='5' %} style="display:none"
                                 {%endif%}>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.a_meixner.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.a_meixner}}
                                        {% if form.a_meixner.errors %}
                                        {% for error in form.a_meixner.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.b_meixner.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.b_meixner}}
                                        {% if form.b_meixner.errors %}
                                        {% for error in form.b_meixner.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.delta_meixner.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.delta_meixner}}
                                        {% if form.delta_meixner.errors %}
                                        {% for error in form.delta_meixner.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                            </div>

                            <div id="mjd" class="col" {% if form.model_choice.data !='6' %} style="display:none"
                                 {%endif%}>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.sigma_mjd.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.sigma_mjd}}
                                        {% if form.sigma_mjd.errors %}
                                        {% for error in form.sigma_mjd.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.lam_mjd.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.lam_mjd}}
                                        {% if form.lam_mjd.errors %}
                                        {% for error in form.lam_mjd.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.mu_x_mjd.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.mu_x_mjd}}
                                        {% if form.mu_x_mjd.errors %}
                                        {% for error in form.mu_x_mjd.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.sigma_x_mjd.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.sigma_x_mjd}}
                                        {% if form.sigma_x_mjd.errors %}
                                        {% for error in form.sigma_x_mjd.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                            </div>

                            <div id="dejd" class="col" {% if form.model_choice.data !='7' %} style="display:none"
                                 {%endif%}>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.sigma_dejd.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.sigma_dejd}}
                                        {% if form.sigma_dejd.errors %}
                                        {% for error in form.sigma_dejd.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.lam_dejd.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.lam_dejd}}
                                        {% if form.lam_dejd.errors %}
                                        {% for error in form.lam_dejd.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.rho_dejd.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.rho_dejd}}
                                        {% if form.rho_dejd.errors %}
                                        {% for error in form.rho_dejd.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.eta1_dejd.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.eta1_dejd}}
                                        {% if form.eta1_dejd.errors %}
                                        {% for error in form.eta1_dejd.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.eta2_dejd.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.eta2_dejd}}
                                        {% if form.eta2_dejd.errors %}
                                        {% for error in form.eta2_dejd.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                            </div>

                            <div id="cev" class="col" {% if form.model_choice.data !='8' %} style="display:none"
                                 {%endif%}>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.beta_cev.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.beta_cev}}
                                        {% if form.beta_cev.errors %}
                                        {% for error in form.beta_cev.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                            </div>

                            <div id="exponential" class="col" {% if form.model_choice.data !='9' %}
                                 style="display:none"
                                 {%endif%}>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.epsilon_exp.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.epsilon_exp}}
                                        {% if form.epsilon_exp.errors %}
                                        {% for error in form.epsilon_exp.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.k1_exp.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.k1_exp}}
                                        {% if form.k1_exp.errors %}
                                        {% for error in form.k1_exp.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col mb-1">
                                        {{form.sigma_exp.label}}
                                    </div>
                                    <div class="col-11 mb-1">
                                        {{form.sigma_exp}}
                                        {% if form.sigma_exp.errors %}
                                        {% for error in form.sigma_exp.errors %}
                                        <div style="color: red;">{{ error }}</div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </div>

                <div class="col-md-4 col-12">
                    <fieldset class="shadow-sm p-3 mb-3 bg-white rounded animated fadeInDown ">
                        <div class="row border-bottom mb-2 pb-1">
                            <legend>Contract Parameter</legend>
                        </div>

                            <div id="general_price" class="row" {% if form.model_choice.data=='9' %}
                                 style="display:none"
                                 {%endif%}>
                                <div class="col mb-1">
                                    {{form.price.label}}
                                    {{form.price}}
                                    {% if form.price.errors %}
                                    {% for error in form.price.errors %}
                                    <div style="color: red;">{{ error }}</div>
                                    {% endfor %}
                                    {% endif %}
                                </div>
                            </div>
                            <div id="general_risk_free" class="row" {% if form.model_choice.data=='9' %}
                                 style="display:none"
                                 {%endif%}>
                                <div class="col mb-1">
                                    {{form.risk_free.label}}
                                    {{form.risk_free}}
                                    {% if form.risk_free.errors %}
                                    {% for error in form.risk_free.errors %}
                                    <div style="color: red;">{{ error }}</div>
                                    {% endfor %}
                                    {% endif %}
                                </div>
                            </div>

                            <div id="exp_price" class="row" {% if form.model_choice.data !='9' %} style="display:none"
                                 {%endif%}>
                                <div class="col mb-1">
                                    {{form.price_exp.label}}
                                    {{form.price_exp}}
                                    {% if form.price_exp.errors %}
                                    {% for error in form.price_exp.errors %}
                                    <div style="color: red;">{{ error }}</div>
                                    {% endfor %}
                                    {% endif %}
                                </div>
                            </div>
                            <div id="exp_risk_free" class="row" {% if form.model_choice.data!='9' %}
                                 style="display:none"
                                 {%endif%}>
                                <div class="col mb-1">
                                    {{form.risk_free_exp.label}}
                                    {{form.risk_free_exp}}
                                    {% if form.risk_free_exp.errors %}
                                    {% for error in form.risk_free_exp.errors %}
                                    <div style="color: red;">{{ error }}</div>
                                    {% endfor %}
                                    {% endif %}
                                </div>
                            </div>

                            <div id="general_time" class="row" {% if form.model_choice.data=='9' %}
                                 style="display:none"
                                 {%endif%}>
                                <div class="col mb-1">
                                    {{form.time.label}}
                                    {{form.time}}
                                    {% if form.time.errors %}
                                    {% for error in form.time.errors %}
                                    <div style="color: red;">{{ error }}</div>
                                    {% endfor %}
                                    {% endif %}
                                </div>
                            </div>
                            <div id="general_step" class="row" {% if form.model_choice.data=='9' %} style="display:none"
                                 {%endif%}>
                                <div class="col mb-1">
                                    {{form.step.label}}
                                    {{form.step}}
                                    {% if form.step.errors %}
                                    {% for error in form.step.errors %}
                                    <div style="color: red;">{{ error }}</div>
                                    {% endfor %}
                                    {% endif %}
                                </div>
                            </div>
                            <div id="general_strike" class="row" {% if form.model_choice.data=='9' %}
                                 style="display:none"
                                 {%endif%}>
                                <div class="col mb-1">
                                    {{form.strike.label}}
                                    {{form.strike}}
                                    {% if form.strike.errors %}
                                    {% for error in form.strike.errors %}
                                    <div style="color: red;">{{ error }}</div>
                                    {% endfor %}
                                    {% endif %}
                                </div>
                            </div>

                            <div id="exp_time" class="row" {% if form.model_choice.data !='9' %} style="display:none"
                                 {%endif%}>
                                <div class="col mb-1">
                                    {{form.time_exp.label}}
                                    {{form.time_exp}}
                                    {% if form.time_exp.errors %}
                                    {% for error in form.time_exp.errors %}
                                    <div style="color: red;">{{ error }}</div>
                                    {% endfor %}
                                    {% endif %}
                                </div>
                            </div>
                            <div id="exp_step" class="row" {% if form.model_choice.data!='9' %} style="display:none"
                                 {%endif%}>
                                <div class="col mb-1">
                                    {{form.step_exp.label}}
                                    {{form.step_exp}}
                                    {% if form.step_exp.errors %}
                                    {% for error in form.step_exp.errors %}
                                    <div style="color: red;">{{ error }}</div>
                                    {% endfor %}
                                    {% endif %}
                                </div>
                            </div>
                            <div id="exp_strike" class="row" {% if form.model_choice.data!='9' %} style="display:none"
                                 {%endif%}>
                                <div class="col mb-1">
                                    {{form.strike_exp.label}}
                                    {{form.strike_exp}}
                                    {% if form.strike_exp.errors %}
                                    {% for error in form.strike_exp.errors %}
                                    <div style="color: red;">{{ error }}</div>
                                    {% endfor %}
                                    {% endif %}
                                </div>
                            </div>

                    </fieldset>
                </div>

                <div class="col-md-4 col-12">
                    <fieldset class="shadow-sm p-3 mb-3 bg-white rounded animated fadeInRight ">
                        <div class="row border-bottom mb-2 pb-1">
                            <legend>FFT Implementation Parameters</legend>
                        </div>
                        <div class="row">
                            <div class="col mb-1">
                                {{form.grid.label}}
                                {{form.grid}}
                                {% if form.grid.errors %}
                                {% for error in form.grid.errors %}
                                <div style="color: red;">{{ error }}</div>
                                {% endfor %}
                                {% endif %}
                            </div>
                        </div>
                        <div id="general_upper" class="row" {% if form.model_choice.data=='9' %} style="display:none"
                             {%endif%}>
                            <div class="col mb-1">
                                {{form.upper_range.label}}
                                {{form.upper_range}}
                                {% if form.upper_range.errors %}
                                {% for error in form.upper_range.errors %}
                                <div style="color: red;">{{ error }}</div>
                                {% endfor %}
                                {% endif %}
                            </div>
                        </div>
                        <div id="general_lower" class="row" {% if form.model_choice.data=='9' %} style="display:none"
                             {%endif%}>
                            <div class="col mb-1">
                                {{form.lower_range.label}}
                                {{form.lower_range}}
                                {% if form.lower_range.errors %}
                                {% for error in form.lower_range.errors %}
                                <div style="color: red;">{{ error }}</div>
                                {% endfor %}
                                {% endif %}
                            </div>
                        </div>
                        <div id="exp_upper" class="row" {% if form.model_choice.data!='9' %} style="display:none"
                             {%endif%}>
                            <div class="col mb-1">
                                {{form.upper_range_exp.label}}
                                {{form.upper_range_exp}}
                                {% if form.upper_range_exp.errors %}
                                {% for error in form.upper_range_exp.errors %}
                                <div style="color: red;">{{ error }}</div>
                                {% endfor %}
                                {% endif %}
                            </div>
                        </div>
                        <div id="exp_lower" class="row" {% if form.model_choice.data!='9' %} style="display:none"
                             {%endif%}>
                            <div class="col mb-1">
                                {{form.lower_range_exp.label}}
                                {{form.lower_range_exp}}
                                {% if form.lower_range_exp.errors %}
                                {% for error in form.lower_range_exp.errors %}
                                <div style="color: red;">{{ error }}</div>
                                {% endfor %}
                                {% endif %}
                            </div>
                        </div>
                        <div class="row">
                            <div class="col mb-1">
                                {{form.dump.label}}
                                {{form.dump}}
                                {% if form.dump.errors %}
                                {% for error in form.dump.errors %}
                                <div style="color: red;">{{ error }}</div>
                                {% endfor %}
                                {% endif %}
                            </div>
                        </div>

                        <div class="row">
                            <div class="col mb-1">
                                {{form.tolerance.label}}
                                {{form.tolerance}}
                                {% if form.tolerance.errors %}
                                {% for error in form.tolerance.errors %}
                                <div style="color: red;">{{ error }}</div>
                                {% endfor %}
                                {% endif %}
                            </div>
                        </div>
                    </fieldset>
                </div>
            </div>
            <div class="col-12 d-flex justify-content-center">
                {{form.button_compute}}
            </div>

        </form>
    </div>

    {% if plot_lower_bound != None %}
    <div class="row d-flex justify-content-center">
         <div class="download_data"> Click here to download the implicit data</div>
        <div class=" col-12">
            <fieldset class="shadow-sm p-3 bg-white rounded animated fadeInDown">
                <div class="row border-bottom mb-2 pb-1">
                    <legend>Table of Asian Option Lower Bound</legend>
                </div>

                <table class="table table-striped">
                    <thead>
                    <th scope="col">Optimal Strike</th>
                    <th scope="col">Optimal Shadow Lower Bound</th>
                    <th scope="col">Strike</th>
                    <th scope="col">Lower Bound Strike</th>
                    </thead>

                    <tbody>
                    <tr>
                        <td>{{optimal_strike}}</td>
                        <td>{{optimal_lower_bound}}</td>
                        {% if form.model_choice.data =='9' %}
                        <td>{{form.strike_exp.data|round(4)}}</td>
                        {% else %}
                        <td> {{form.strike.data|round(4)}}</td>
                        {% endif %}
                        <td>{{lower_bound_strike}}</td>
                    </tr>
                    </tbody>
                </table>


            </fieldset>
        </div>
    </div>

    <div class="row d-flex justify-content-center">
        <div class=" col-12">
            <fieldset class="shadow-sm p-3 bg-white rounded animated fadeInDown">
                <div class="row border-bottom mb-2 pb-1">
                    <legend>Asian Option Lower Bound</legend>
                </div>
                <div class="d-flex justify-content-center plot">

                    {{plot_lower_bound[0]|safe}}
                    {{plot_lower_bound[1]|safe}}

                </div>

            </fieldset>
        </div>
    </div>

    {%endif%}

</div>

{% include 'footer.html' %}

<script charset="utf-8" type="text/javascript">
                    $(function () {
                        var select_model = $('#model_choice');
                        var gaussian = $('#gaussian');
                        var vg = $('#vg');
                        var heston = $('#heston');
                        var nig = $('#nig');
                        var cgmy = $('#cgmy');
                        var meixner = $('#meixner');
                        var mjd = $('#mjd');
                        var dejd = $('#dejd');
                        var cev = $('#cev');
                        var exponential = $('#exponential');

                        var generalPrice = $('#general_price');
                        var generalRiskFree = $('#general_risk_free');
                        var generalTime = $('#general_time');
                        var generalStep = $('#general_step');
                        var generalStrike = $('#general_strike');
                        var generalUpper = $('#general_upper');
                        var generalLower = $('#general_lower');

                        var expPrice = $('#exp_price');
                        var expRiskFree = $('#exp_risk_free');
                        var expTime = $('#exp_time');
                        var expStep = $('#exp_step');
                        var expStrike = $('#exp_strike');
                        var expUpper = $('#exp_upper');
                        var expLower = $('#exp_lower');

                        function reset() {
                            gaussian.hide();
                            vg.hide();
                            heston.hide();
                            nig.hide();
                            cgmy.hide();
                            meixner.hide();
                            mjd.hide();
                            dejd.hide();
                            cev.hide();
                            exponential.hide();

                            generalPrice.hide();
                            generalRiskFree.hide();
                            generalTime.hide();
                            generalStep.hide();
                            generalStrike.hide();
                            generalUpper.hide();
                            generalLower.hide();

                            expPrice.hide();
                            expRiskFree.hide();
                            expTime.hide();
                            expStep.hide();
                            expStrike.hide();
                            expUpper.hide();
                            expLower.hide();
                        }

                        select_model.on('change', function () {
                            if (select_model.val() == '0') {
                                reset();
                                gaussian.show();
                                generalPrice.show();
                                generalRiskFree.show();
                                generalTime.show();
                                generalStep.show();
                                generalStrike.show();
                                generalUpper.show();
                                generalLower.show();

                            } else if (select_model.val() == '1') {
                                reset();
                                vg.show();
                                generalPrice.show();
                                generalRiskFree.show();
                                generalTime.show();
                                generalStep.show();
                                generalStrike.show();
                                generalUpper.show();
                                generalLower.show();

                            } else if (select_model.val() == '2') {
                                reset();
                                heston.show();
                                generalPrice.show();
                                generalRiskFree.show();
                                generalTime.show();
                                generalStep.show();
                                generalStrike.show();
                                generalUpper.show();
                                generalLower.show();

                            } else if (select_model.val() == '3') {
                                reset();
                                nig.show();
                                generalPrice.show();
                                generalRiskFree.show();
                                generalTime.show();
                                generalStep.show();
                                generalStrike.show();
                                generalUpper.show();
                                generalLower.show();

                            } else if (select_model.val() == '4') {
                                reset();
                                cgmy.show();
                                generalPrice.show();
                                generalRiskFree.show();
                                generalTime.show();
                                generalStep.show();
                                generalStrike.show();
                                generalUpper.show();
                                generalLower.show();

                            } else if (select_model.val() == '5') {
                                reset();
                                meixner.show();
                                generalPrice.show();
                                generalRiskFree.show();
                                generalTime.show();
                                generalStep.show();
                                generalStrike.show();
                                generalUpper.show();
                                generalLower.show();

                            } else if (select_model.val() == '6') {
                                reset();
                                mjd.show();
                                generalPrice.show();
                                generalRiskFree.show();
                                generalTime.show();
                                generalStep.show();
                                generalStrike.show();
                                generalUpper.show();
                                generalLower.show();

                            } else if (select_model.val() == '7') {
                                reset();
                                dejd.show();
                                generalPrice.show();
                                generalRiskFree.show();
                                generalTime.show();
                                generalStep.show();
                                generalStrike.show();
                                generalUpper.show();
                                generalLower.show();

                            } else if (select_model.val() == '8') {
                                reset();
                                cev.show();
                                generalPrice.show();
                                generalRiskFree.show();
                                generalTime.show();
                                generalStep.show();
                                generalStrike.show();
                                generalUpper.show();
                                generalLower.show();

                            } else {
                                reset();
                                exponential.show();
                                expPrice.show();
                                expRiskFree.show();
                                expTime.show();
                                expStep.show();
                                expStrike.show();
                                expUpper.show();
                                expLower.show();
                            }
                        });


                        var download_data = $('.download_data');

                        var lambda = {{lam}};
                        var lower_bound = {{lower_bound}};

                        download_data.on('click', function (){

                        var csv = 'Lambda, Lower Bound\n';

                        var i;
                        for (i=0; i< lower_bound.length; i++) {
                            row = lambda[i] + ',' + lower_bound[i] + '\n';
                            csv += row;
                        }

                        var hiddenElement = document.createElement('a');
                        hiddenElement.href = 'data:text/csv;charset=utf-8,' + encodeURI(csv);
                        hiddenElement.target = '_blank';
                        hiddenElement.download = 'asian_option_data.csv';
                        hiddenElement.click();

                        });
                    });


























































</script>
</body>
</html>
