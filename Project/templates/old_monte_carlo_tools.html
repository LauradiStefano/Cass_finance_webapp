{% include 'header.html' %}
{% if data %}
{% for result in data %}

<div class="container">
    <div class="row">
        <div class="col p-3 m-4">
            <h1 class="title text-center text-light">Monte Carlo Tools</h1>
            <h2 class="lead text-center text-light animated fadeInDown">Previous Simulations</h2>
        </div>
    </div>
</div>

<div class="container">
    <div class="row d-flex justify-content-center">
        <div class="col-md-4 col-12">
            <div class="row">
                <div class="col-12">
                    <fieldset class="shadow-sm p-3 bg-white rounded animated fadeInDown ">

                        <div class="row border-bottom mb-2 pb-1">
                            <legend>Input</legend>
                        </div>
                        <div class="row">
                            <div class="col-12 font-weight-bold d-flex flex-column">
                                    <span class="mb-1">
                                        {{result['form'].model_choice.label}}:
                                        {{dict(result['form'].model_choice.choices).get(result['form'].model_choice.data)}}
                                    </span>

                                <div id="abm">
                                    {% if result['form'].model_choice.data == '0' %}
                                    <span class="mb-1">
                                            {{result['form'].mu_abm.label}}:
                                            {{result['form'].mu_abm.data}}<br/>
                                        </span>
                                    <span class="mb-1">
                                            {{result['form'].sigma_abm.label}}:
                                            {{result['form'].sigma_abm.data}}<br/>
                                        </span>
                                    {%endif%}
                                </div>

                                <div id="cir">
                                    {% if result['form'].model_choice.data == '1' %}
                                    <span class="mb-1">
                                            {{result['form'].mu_cir.label}}:
                                            {{result['form'].mu_cir.data}}<br/>
                                        </span>
                                    <span class="mb-1">
                                            {{result['form'].sigma_cir.label}}:
                                            {{result['form'].sigma_cir.data}}<br/>
                                        </span>
                                    <span class="mb-1">
                                            {{result['form'].alpha_cir.label}}:
                                            {{result['form'].alpha_cir.data}}<br/>
                                        </span>
                                    {%endif%}
                                </div>

                                <div id="dejd">
                                    {% if result['form'].model_choice.data == '2' %}
                                    <span class="mb-1">
                                            {{result['form'].mu_dejd.label}}:
                                            {{result['form'].mu_dejd.data}}<br/>
                                        </span>
                                    <span class="mb-1">
                                            {{result['form'].sigma_dejd.label}}:
                                            {{result['form'].sigma_dejd.data}}<br/>
                                        </span>
                                    <span class="mb-1">
                                            {{result['form'].lam_dejd.label}}:
                                            {{result['form'].lam_dejd.data}}<br/>
                                        </span>
                                    <span class="mb-1">
                                            {{result['form'].rho_dejd.label}}:
                                            {{result['form'].rho_dejd.data}}<br/>
                                        </span>
                                    <span class="mb-1">
                                            {{result['form'].eta1_dejd.label}}:
                                            {{result['form'].eta1_dejd.data}}<br/>
                                        </span>
                                    <span class="mb-1">
                                            {{result['form'].eta2_dejd.label}}:
                                            {{result['form'].eta2_dejd.data}}<br/>
                                        </span>
                                    {%endif%}
                                </div>

                                <div id="ewma">
                                    {% if result['form'].model_choice.data == '3' %}
                                    <span class="mb-1">
                                            {{result['form'].mu_ewma.label}}:
                                            {{result['form'].mu_ewma.data}}<br/>
                                        </span>
                                    <span class="mb-1">
                                            {{result['form'].volatility_t0_ewma.label}}:
                                            {{result['form'].volatility_t0_ewma.data}}<br/>
                                        </span>
                                    <span class="mb-1">
                                            {{result['form'].alpha_ewma.label}}:
                                            {{result['form'].alpha_ewma.data}}<br/>
                                        </span>
                                    <span class="mb-1">
                                            {{result['form'].beta_ewma.label}}:
                                            {{result['form'].beta_ewma.data}}<br/>
                                        </span>
                                    {%endif%}
                                </div>

                                <div id="garch">
                                    {% if result['form'].model_choice.data == '4' %}
                                    <span class="mb-1">
                                            {{result['form'].mu_garch.label}}:
                                            {{result['form'].mu_garch.data}}<br/>
                                        </span>
                                    <span class="mb-1">
                                            {{result['form'].volatility_t0_garch.label}}:
                                            {{result['form'].volatility_t0_garch.data}}<br/>
                                        </span>
                                    <span class="mb-1">
                                            {{result['form'].omega_garch.label}}:
                                            {{result['form'].omega_garch.data}}<br/>
                                        </span>
                                    <span class="mb-1">
                                            {{result['form'].alpha_garch.label}}:
                                            {{result['form'].alpha_garch.data}}<br/>
                                        </span>
                                    <span class="mb-1">
                                            {{result['form'].beta_garch.label}}:
                                            {{result['form'].beta_garch.data}}<br/>
                                        </span>
                                    <span class="mb-1">
                                            {{result['form'].asymm_garch.label}}:
                                            {{result['form'].asymm_garch.data}}<br/>
                                        </span>
                                    {%endif%}
                                </div>

                                <div id="gbm">
                                    {% if result['form'].model_choice.data == '5' %}
                                    <span class="mb-1">
                                            {{result['form'].mu_gbm.label}}:
                                            {{result['form'].mu_gbm.data}}<br/>
                                        </span>
                                    <span class="mb-1">
                                            {{result['form'].sigma_gbm.label}}:
                                            {{result['form'].sigma_gbm.data}}<br/>
                                        </span>
                                    {%endif%}
                                </div>

                                <div id="heston">
                                    {% if result['form'].model_choice.data == '6' %}
                                    <span class="mb-1">
                                            {{result['form'].mu_heston.label}}:
                                            {{result['form'].mu_heston.data}}<br/>
                                        </span>
                                    <span class="mb-1">
                                            {{result['form'].volatility_t0_heston.label}}:
                                            {{result['form'].volatility_t0_heston.data}}<br/>
                                        </span>
                                    <span class="mb-1">
                                            {{result['form'].alpha_heston.label}}:
                                            {{result['form'].alpha_heston.data}}<br/>
                                        </span>
                                    <span class="mb-1">
                                            {{result['form'].beta_heston.label}}:
                                            {{result['form'].beta_heston.data}}<br/>
                                        </span>
                                    <span class="mb-1">
                                            {{result['form'].eta_heston.label}}:
                                            {{result['form'].eta_heston.data}}<br/>
                                        </span>
                                    <span class="mb-1">
                                            {{result['form'].rho_heston.label}}:
                                            {{result['form'].rho_heston.data}}<br/>
                                        </span>
                                    {%endif%}
                                </div>

                                <div id="mjd">
                                    {% if result['form'].model_choice.data == '7' %}
                                    <span class="mb-1">
                                            {{result['form'].mu_mjd.label}}:
                                            {{result['form'].mu_mjd.data}}<br/>
                                        </span>
                                    <span class="mb-1">
                                            {{result['form'].sigma_mjd.label}}:
                                            {{result['form'].sigma_mjd.data}}<br/>
                                        </span>
                                    <span class="mb-1">
                                            {{result['form'].lam_mjd.label}}:
                                            {{result['form'].lam_mjd.data}}<br/>
                                        </span>
                                    <span class="mb-1">
                                            {{result['form'].mu_x_mjd.label}}:
                                            {{result['form'].mu_x_mjd.data}}<br/>
                                        </span>
                                    <span class="mb-1">
                                            {{result['form'].sigma_x_mjd.label}}:
                                            {{result['form'].sigma_x_mjd.data}}<br/>
                                        </span>
                                    {%endif%}
                                </div>

                                <div id="mrg">
                                    {% if result['form'].model_choice.data == '8' %}
                                    <span class="mb-1">
                                            {{result['form'].mu_mrg.label}}:
                                            {{result['form'].mu_mrg.data}}<br/>
                                        </span>
                                    <span class="mb-1">
                                            {{result['form'].sigma_mrg.label}}:
                                            {{result['form'].sigma_mrg.data}}<br/>
                                        </span>
                                    <span class="mb-1">
                                            {{result['form'].alpha_mrg.label}}:
                                            {{result['form'].alpha_mrg.data}}<br/>
                                        </span>
                                    {%endif%}
                                </div>

                                <div id="vg">
                                    {% if result['form'].model_choice.data == '9' %}
                                    <span class="mb-1">
                                            {{result['form'].sigma_vg.label}}:
                                            {{result['form'].sigma_vg.data}}<br/>
                                        </span>
                                    <span class="mb-1">
                                            {{result['form'].theta_vg.label}}:
                                            {{result['form'].theta_vg.data}}<br/>
                                        </span>
                                    <span class="mb-1">
                                            {{result['form'].kappa_vg.label}}:
                                            {{result['form'].kappa_vg.data}}<br/>
                                        </span>
                                    {%endif%}
                                </div>


                            </div>
                            <div class="col-12 font-weight-bold d-flex flex-column">
                                <div id="price_abm">
                                    {% if result['form'].model_choice.data == '0' %}
                                    <span class="mb-1">
                                            {{result['form'].price_abm.label}}:
                                            {{result['form'].price_abm.data}}<br/>
                                    </span>
                                    {%endif%}
                                </div>

                                <div id="price_cir">
                                    {% if result['form'].model_choice.data == '1' %}
                                    <span class="mb-1">
                                            {{result['form'].price_cir.label}}:
                                            {{result['form'].price_cir.data}}<br/>
                                    </span>
                                    {%endif%}
                                </div>

                                <div id="price_dejd">
                                    {% if result['form'].model_choice.data == '2' %}
                                    <span class="mb-1">
                                            {{result['form'].price_dejd.label}}:
                                            {{result['form'].price_dejd.data}}<br/>
                                    </span>
                                    {%endif%}
                                </div>

                                <div id="price_ewma">
                                    {% if result['form'].model_choice.data == '3' %}
                                    <span class="mb-1">
                                            {{result['form'].price_ewma.label}}:
                                            {{result['form'].price_ewma.data}}<br/>
                                    </span>
                                    {%endif%}
                                </div>

                                <div id="price_garch">
                                    {% if result['form'].model_choice.data == '4' %}
                                    <span class="mb-1">
                                            {{result['form'].price_garch.label}}:
                                            {{result['form'].price_garch.data}}<br/>
                                    </span>
                                    {%endif%}
                                </div>

                                <div id="price_gbm">
                                    {% if result['form'].model_choice.data == '5' %}
                                    <span class="mb-1">
                                            {{result['form'].price_gbm.label}}:
                                            {{result['form'].price_gbm.data}}<br/>
                                    </span>
                                    {%endif%}
                                </div>

                                <div id="price_heston">
                                    {% if result['form'].model_choice.data == '6' %}
                                    <span class="mb-1">
                                            {{result['form'].price_heston.label}}:
                                            {{result['form'].price_heston.data}}<br/>
                                    </span>
                                    {%endif%}
                                </div>

                                <div id="price_mjd">
                                    {% if result['form'].model_choice.data == '7' %}
                                    <span class="mb-1">
                                            {{result['form'].price_mjd.label}}:
                                            {{result['form'].price_mjd.data}}<br/>
                                    </span>
                                    {%endif%}
                                </div>

                                <div id="price_mrg">
                                    {% if result['form'].model_choice.data == '8' %}
                                    <span class="mb-1">
                                            {{result['form'].price_mrg.label}}:
                                            {{result['form'].price_mrg.data}}<br/>
                                    </span>
                                    {%endif%}
                                </div>

                                <div id="price_vg">
                                    {% if result['form'].model_choice.data == '9' %}
                                    <span class="mb-1">
                                            {{result['form'].price_vg.label}}:
                                            {{result['form'].price_vg.data}}<br/>
                                    </span>
                                    {%endif%}
                                </div>

                                <span class="mb-1">
                                            {{result['form'].time.label}}:
                                            {{result['form'].time.data}}<br/>
                                    </span>
                                <span class="mb-1">
                                            {{result['form'].number_step.label}}:
                                            {{result['form'].number_step.data}}<br/>
                                    </span>
                                <span class="mb-1">
                                            {{result['form'].number_paths.label}}:
                                            {{result['form'].number_paths.data}}<br/>
                                    </span>
                            </div>
                        </div>
                    </fieldset>
                </div>
            </div>
        </div>
    </div>
    {% if result['plot_simulated_paths'] != None%}
    <div class="row d-flex justify-content-center">
        <div class=" col-12">
            <fieldset class="shadow-sm p-3 bg-white rounded d-flex animated fadeInDown">
                <div class="row border-bottom mb-2 pb-1">
                    <legend>Simulated Paths</legend>
                </div>
                <div class="d-flex justify-content-center plot_monte_carlo">
                    {{ result['plot_simulated_paths'][0]|safe}}
                    {{ result['plot_simulated_paths'][1]|safe}}
                </div>
            </fieldset>
        </div>

        <div class=" col-12">
            <fieldset class="shadow-sm p-3 bg-white rounded d-flex animated fadeInDown">
                <div class="row border-bottom mb-2 pb-1">
                    <legend> Moments</legend>
                </div>
                <div class="d-flex justify-content-center plot_monte_carlo">
                    {{ result['plot_moments'][0]|safe}}
                    {{ result['plot_moments'][1]|safe}}
                </div>
            </fieldset>
        </div>

        <div class=" col-12">
            <fieldset class="shadow-sm p-3 bg-white rounded d-flex animated fadeInDown">
                <div class="row border-bottom mb-2 pb-1">
                    <legend>Histogram</legend>
                </div>
                <div class="d-flex justify-content-center plot_monte_carlo">
                    {{ result['plot_histogram'][0]|safe}}
                    {{ result['plot_histogram'][1]|safe}}
                </div>
            </fieldset>
        </div>

        <div class=" col-12">
            <fieldset class="shadow-sm p-3 bg-white rounded d-flex animated fadeInDown">
                <div class="row border-bottom mb-2 pb-1">
                    <legend>Evolution of Density</legend>
                </div>
                <div class="d-flex justify-content-center plot_monte_carlo">
                    {{ result['plot_3d_density'][0]|safe}}
                    {{ result['plot_3d_density'][1]|safe}}
                </div>
            </fieldset>
        </div>
    </div>
    {% endif %}
</div>

<div class="col-12 d-flex mb-3 justify-content-center">
    <form style="text-align:center;" method="POST" action="/monte_carlo_tools/old/delete/{{ result.id }}">
        <input type="submit" value="Delete Single Simulation"
               title="Delete this post from database">
    </form>
</div>
<hr>
{% endfor %}

<center>
    <div class="row">
        <form method="POST" action="/monte_carlo_tools/old/delete/-1">
            <input type="submit" value="Delete All Simulations">
        </form>
    </div>
</center>
{% else %}
<div class="row d-flex align-content-center">
    <div style="text-align:center;" class="col">
        <span class="text-white animated fadeInDown">No previous simulations</span>
    </div>
</div>
{% endif %}

{% include 'footer.html' %}
</body>
</html>

























